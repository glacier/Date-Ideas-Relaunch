$(document).ready(function() {
    //show date picker pop up
    $('#datecart_datetime').datetimepicker({
        dateFormat: 'yy/mm/dd', // See format options on parseDate
        defaultDate: +1,
        minDate: 0,
        ampm: true,
        hourGrid: 4,
        minuteGrid: 10
    });

    //Enforce basic punctuation for app names (currently undecided what shold be validated against)
    jQuery.validator.addMethod("letterswithbasicpunc", function(value, element) {
        return this.optional(element) || /^[a-z0-9-.,$()'\"\s&!]+$/i.test(value);
    }, "Simple names only!");

    jQuery.validator.messages.required = "Required";

    $("#edit_datecart_<%=@datecart.id%>").validate({
        rules: {
            "datecart[name]": {
                required: true,
                "letterswithbasicpunc": true
            },
            "datecart[datetime]": {
                required: true
            },
            "datecart[notes]": {
                maxlength: 300
            }
        },
        messages: {
            "datecart[notes]": "Max 300 chars"
        }
    });
});

